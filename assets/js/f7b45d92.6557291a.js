"use strict";(self.webpackChunkecharts_api_docs=self.webpackChunkecharts_api_docs||[]).push([[598],{9100:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=s(4848),r=s(8453);const i={},o="ECharts \u7684\u63d2\u4ef6\u673a\u5236",c={id:"guide/echarts-plugin",title:"ECharts \u7684\u63d2\u4ef6\u673a\u5236",description:"ECharts \u7684\u63d2\u4ef6\u5f0f\u67b6\u6784\u8bbe\u8ba1\u4e3a\u56fe\u8868\u7ec4\u4ef6\u5f00\u53d1\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4f4e\u8026\u5408\u6027\u3001\u53ef\u9760\u7684\u65b9\u6848\uff0c\u672c\u8282\u5185\u5bb9\u4e3b\u8981\u8bb2\u8ff0\u6269\u5c55\uff08\u63d2\u4ef6\uff09\u673a\u5236\u548c APIs \u8bbe\u8ba1\uff0c\u53ca\u5176\u90e8\u5206\u6280\u672f\u7ec6\u8282\u3002",source:"@site/docs/0-guide/3-echarts-plugin.md",sourceDirName:"0-guide",slug:"/guide/echarts-plugin",permalink:"/echarts-api-docs/docs/guide/echarts-plugin",draft:!1,unlisted:!1,editUrl:"https://github.com/wang1212/echarts-api-docs/tree/main/docs/0-guide/3-echarts-plugin.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"guideSidebar",previous:{title:"\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b",permalink:"/echarts-api-docs/docs/guide/PROGRAM_FLOW"},next:{title:"\u6a21\u5757\u5256\u6790",permalink:"/echarts-api-docs/docs/category/\u6a21\u5757\u5256\u6790"}},a={},l=[{value:"\u63d2\u4ef6\u67b6\u6784\u8bbe\u8ba1",id:"\u63d2\u4ef6\u67b6\u6784\u8bbe\u8ba1",level:2},{value:"\u67b6\u6784\u6982\u89c8",id:"\u67b6\u6784\u6982\u89c8",level:3},{value:"\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b",id:"\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b",level:3},{value:"\u6269\u5c55 APIs",id:"\u6269\u5c55-apis",level:3},{value:"\u63d2\u4ef6\u6848\u4f8b\u5206\u6790",id:"\u63d2\u4ef6\u6848\u4f8b\u5206\u6790",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"echarts-\u7684\u63d2\u4ef6\u673a\u5236",children:"ECharts \u7684\u63d2\u4ef6\u673a\u5236"}),"\n",(0,t.jsx)(n.p,{children:"ECharts \u7684\u63d2\u4ef6\u5f0f\u67b6\u6784\u8bbe\u8ba1\u4e3a\u56fe\u8868\u7ec4\u4ef6\u5f00\u53d1\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4f4e\u8026\u5408\u6027\u3001\u53ef\u9760\u7684\u65b9\u6848\uff0c\u672c\u8282\u5185\u5bb9\u4e3b\u8981\u8bb2\u8ff0\u6269\u5c55\uff08\u63d2\u4ef6\uff09\u673a\u5236\u548c APIs \u8bbe\u8ba1\uff0c\u53ca\u5176\u90e8\u5206\u6280\u672f\u7ec6\u8282\u3002"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"ECharts \u9ed8\u8ba4\u63d0\u4f9b\u4e86\u6570\u5341\u79cd\u7c7b\u578b\u56fe\u8868\u7684\u5b9e\u73b0\uff0c\u6240\u4ee5\u4ee3\u7801\u5e93\u975e\u5e38\u5e9e\u5927\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u73b0\u6709\u7c7b\u578b\u7684\u56fe\u8868\u5e76\u975e\u5168\u90e8\u90fd\u662f\u5728\u521d\u59cb\u7248\u672c\u5b9e\u73b0\u7684\uff0c\u4e3a\u4e86\u5728\u4e0d\u65ad\u8fed\u4ee3\u7684\u8fc7\u7a0b\u4e2d\u65b0\u589e\u5176\u5b83\u7c7b\u578b\u56fe\u8868\u5b9e\u73b0\u7684\u540c\u65f6\u4fdd\u8bc1\u73b0\u6709\u7c7b\u578b\u56fe\u8868\u5b9e\u73b0\u7684\u7a33\u5b9a\u6027\uff0c\u6bcf\u4e00\u79cd\u7c7b\u578b\u7684\u56fe\u8868\u5b9e\u73b0\u90fd\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u201c\u63d2\u4ef6\u201d\u3002"})}),"\n",(0,t.jsx)(n.h2,{id:"\u63d2\u4ef6\u67b6\u6784\u8bbe\u8ba1",children:"\u63d2\u4ef6\u67b6\u6784\u8bbe\u8ba1"}),"\n",(0,t.jsxs)(n.p,{children:["\u9996\u5148\uff0c\u4e86\u89e3\u4e00\u4e0b\u63d2\u4ef6\u67b6\u6784\u7684\u6574\u4f53\u8bbe\u8ba1\u4ee5\u53ca\u7a0b\u5e8f\u7684\u6267\u884c\u6d41\u7a0b\uff0c\u5e2e\u52a9\u6211\u4eec\u66f4\u6df1\u5165\u7684\u7406\u89e3 ECharts \u662f\u5982\u4f55\u5c06\u56fe\u8868\u7684\u5177\u4f53\u5b9e\u73b0\u4e0e\u7ec4\u4ef6\u5e93\u6838\u5fc3\u5b9e\u73b0\u89e3\u8026\u7684\u3002\u6b64\u5916\uff0c\u4ece\u5355\u4e2a\u56fe\u8868\u7ec4\u4ef6\u7684\u5b9e\u73b0\u6765\u5206\u6790\uff0cECharts \u9075\u5faa\u7684\u662f\u7ecf\u5178\u7684 ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller",children:"MVC \u6a21\u5f0f"}),"\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"\u67b6\u6784\u6982\u89c8",children:"\u67b6\u6784\u6982\u89c8"}),"\n",(0,t.jsx)(n.mermaid,{value:'---\ntitle: Overview of echarts plug-in architecture\n---\nflowchart TB\n    %% block\n    subgraph extension\n        direction LR\n\n        subgraph Component\n            direction TB\n\n            subgraph Axis\n                AxisModel\n                AxisView\n            end\n\n            subgraph Tooltip\n                TooltipModel\n                TooltipView\n            end\n\n            subgraph DataZoom\n                DataZoomModel\n                DataZoomView\n            end\n\n            Axis---Tooltip---DataZoom\n        end\n\n        subgraph Chart\n            direction TB\n\n            subgraph Bar\n                BarSeriesModel\n                BarView\n            end\n\n            subgraph Line\n                LineSeriesModel\n                LineView\n            end\n\n            subgraph Pie\n                PieSeriesModel\n                PieView\n            end\n\n            Bar---Line---Pie\n        end\n\n        Component---Chart\n    end\n\n    subgraph APIs-echarts/core\n        direction LR\n\n        %% block\n        subgraph Core\n            ecCore["ECharts (Controller)"]:::keyNode\n\n            click ecCore href "https://github.com/apache/echarts/blob/5.3.3/src/core/echarts.ts#L331"\n        end\n\n        %% block\n        subgraph Extension\n            extUse["use()"]:::keyNode\n\n            click extUse href "https://github.com/apache/echarts/blob/5.3.3/src/extension.ts#L96"\n        end\n\n        Core---Extension\n    end\n\n    extension-.-APIs-echarts/core\n\n    classDef keyNode stroke-width:4px\n    linkStyle default stroke:transparent'}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0cECharts \u7684\u6838\u5fc3\u5b9e\u73b0\u548c\u6269\u5c55\u5b9e\u73b0\u63d0\u4f9b\u4e86 APIs \u5c42\uff0c\u5177\u4f53\u7684\u56fe\u8868\u548c\u7ec4\u4ef6\u5b9e\u73b0\u53ef\u4ee5\u5b89\u5168\u7684\u548c\u7ec4\u4ef6\u5e93\u7684 APIs \u5c42\u5265\u79bb\uff0c\u8fd9\u4e5f\u662f",(0,t.jsx)(n.a,{href:"https://echarts.apache.org/handbook/zh/basics/import#%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5-echarts-%E5%9B%BE%E8%A1%A8%E5%92%8C%E7%BB%84%E4%BB%B6",children:"\u5b98\u65b9\u6587\u6863\u4e2d\u63d0\u53ca\u7684\u6309\u9700\u5f15\u5165"}),"\u5b9e\u73b0\u7684\u57fa\u7840\u3002"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6838\u5fc3\u5b9e\u73b0\u5145\u5f53\u4e86\u63a7\u5236\u5668\uff08Controller\uff09\u7684\u89d2\u8272\uff0c\u5404\u4e2a\u56fe\u8868\u548c\u7ec4\u4ef6\u53ea\u9700\u8981\u63d0\u4f9b\u6570\u636e\u5c42\uff08Model\uff09\u548c\u89c6\u56fe\u5c42\uff08View\uff09\u7684\u5b9e\u73b0\u5373\u53ef\u3002"})}),"\n",(0,t.jsx)(n.h3,{id:"\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b",children:"\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b"}),"\n",(0,t.jsx)(n.mermaid,{value:'---\ntitle: echarts plug-in architecture program flowchart\n---\nflowchart TB\n    %% block\n    subgraph ClassManager\n        %% direction TB\n\n        cmStorage["Storage"]\n        cmRegisterClass("registerClass()")\n        cmGetClass("getClass()")\n\n        cmRegisterClass-- "(type, Constructor)" --\x3ecmStorage\n        cmGetClass-- "(type)" --\x3ecmStorage\n\n        click cmStorage href "https://github.com/apache/echarts/blob/5.3.3/src/util/clazz.ts#L237"\n    end\n\n    subgraph echarts Lib\n        %% direction RL\n\n        ecUse("use()")\n\n        %% block\n        subgraph echartsIns\n            %% direction TB\n\n            ecInsSetOption("ecIns.setOption(option, opts)")\n            ecInsECModelSetOption("ecIns._ecModel.setOption(option, optionPreprocessorFuncs)")\n            ecInsPrepareView("prepareView(ecIns)")\n            ecInsUpdate("update()")\n\n            ecInsSetOption-.->ecInsECModelSetOption\n            ecInsECModelSetOption-.->ecInsPrepareView\n            ecInsPrepareView-.->ecInsUpdate\n\n            click ecInsSetOption href "https://github.com/apache/echarts/blob/5.3.3/src/core/echarts.ts#L590"\n            click ecInsECModelSetOption href "https://github.com/apache/echarts/blob/5.3.3/src/model/Global.ts#L413"\n            click ecInsPrepareView href "https://github.com/apache/echarts/blob/5.3.3/src/core/echarts.ts#L1441"\n        end\n\n        ecUse-.-echartsIns\n\n        click ecUse href "https://github.com/apache/echarts/blob/5.3.3/src/extension.ts#L69"\n    end\n\n    subgraph vendors extension\n        vdModel("class Model")\n        vdView("class View")\n\n        vdModel-. "type" .-vdView\n    end\n\n    ecUse:::keyNode---\x3ecmRegisterClass\n    ecInsECModelSetOption:::keyNode-- "new Model" --\x3ecmGetClass\n    ecInsPrepareView:::keyNode-- "new View" --\x3ecmGetClass\n    vdModel---\x3eecUse\n    vdView---\x3eecUse\n\n    classDef keyNode stroke-width:4px'}),"\n",(0,t.jsx)(n.p,{children:"\u901a\u8fc7\u63a2\u7d22\u63d2\u4ef6\u7a0b\u5e8f\u7684\u6267\u884c\u6d41\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e86\u89e3\u66f4\u591a\u7684\u6280\u672f\u7ec6\u8282\uff0c\u4ece\u800c\u66f4\u597d\u7684\u638c\u63e1\u5982\u4f55\u5b8c\u6210\u63d2\u4ef6\u5f00\u53d1\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["**\u901a\u5e38\uff0c\u63d2\u4ef6\u7a0b\u5e8f\u9700\u8981\u5728 ",(0,t.jsxs)(n.a,{href:"https://echarts.apache.org/zh/api.html#echarts.init",children:["ECharts \u5b9e\u4f8b\u5316\uff08",(0,t.jsx)(n.code,{children:"init()"}),"\uff09"]}),"\u4e4b\u524d\u901a\u8fc7 ",(0,t.jsxs)(n.a,{href:"https://echarts.apache.org/zh/api.html#echarts.use",children:[(0,t.jsx)(n.code,{children:"use()"})," API"]})," \u8fdb\u884c\u6ce8\u518c\u3002**\u5185\u90e8\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u7c7b\u7ba1\u7406\u5668\uff0c\u4ee5\u7c7b\u7684 ",(0,t.jsx)(n.code,{children:"type"})," \u4e3a key \u7ef4\u62a4\u4e00\u4e2a\u96c6\u5408\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/util/clazz.ts#L226"',children:"export function enableClassManagement(\n    target: ClassManager\n): void {\n\n    /**\n     * Component model classes\n     * key: componentType,\n     * value:\n     *     componentClass, when componentType is 'a'\n     *     or Object.<subKey, componentClass>, when componentType is 'a.b'\n     */\n    const storage: {\n        [componentMainType: string]: (Constructor | SubclassContainer)\n    } = {};\n\n    target.registerClass = function (\n        clz: Constructor\n    ): Constructor {\n\n        // `type` should not be a \"instance memeber\".\n        // If using TS class, should better declared as `static type = 'series.pie'`.\n        // otherwise users have to mount `type` on prototype manually.\n        // For backward compat and enable instance visit type via `this.type`,\n        // we stil support fetch `type` from prototype.\n        const componentFullType = (clz as any).type || clz.prototype.type;\n\n        if (componentFullType) {\n            checkClassType(componentFullType);\n\n            // If only static type declared, we assign it to prototype mandatorily.\n            clz.prototype.type = componentFullType;\n\n            const componentTypeInfo = parseClassType(componentFullType);\n\n            if (!componentTypeInfo.sub) {\n                storage[componentTypeInfo.main] = clz;\n            }\n            else if (componentTypeInfo.sub !== IS_CONTAINER) {\n                const container = makeContainer(componentTypeInfo);\n                container[componentTypeInfo.sub] = clz;\n            }\n        }\n        return clz;\n    };\n\n    target.getClass = function (\n        mainType: ComponentMainType,\n        subType?: ComponentSubType,\n        throwWhenNotFound?: boolean\n    ): Constructor {\n        let clz = storage[mainType];\n\n        if (clz && (clz as SubclassContainer)[IS_CONTAINER]) {\n            clz = subType ? (clz as SubclassContainer)[subType] : null;\n        }\n\n        if (throwWhenNotFound && !clz) {\n            throw new Error(\n                !subType\n                    ? mainType + '.' + 'type should be specified.'\n                    : 'Component ' + mainType + '.' + (subType || '') + ' is used but not imported.'\n            );\n        }\n\n        return clz as Constructor;\n    };\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ECharts \u5b9e\u4f8b\u5316\u540e\uff0c\u8c03\u7528 ",(0,t.jsxs)(n.a,{href:"https://echarts.apache.org/zh/api.html#echartsInstance.setOption",children:[(0,t.jsx)(n.code,{children:"setOption()"})," API"]})," \u5f00\u59cb\u6e32\u67d3\u56fe\u8868\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4f1a\u6839\u636e",(0,t.jsx)(n.a,{href:"https://echarts.apache.org/zh/option.html#title",children:"\u914d\u7f6e\u9879"}),"\u5148\u521b\u5efa\u6bcf\u4e2a\u7ec4\u4ef6\uff08\u56fe\u8868/\u7cfb\u5217\uff09\u7684\u6570\u636e\u5c42\u5b9e\u4f8b\uff0c\u518d\u521b\u5efa\u5176\u5bf9\u5e94\u7684\u89c6\u56fe\u5c42\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e24\u4e2a\u6b65\u9aa4\u662f\u5728\u72ec\u7acb\u7684\u9636\u6bb5\u5206\u522b\u5b8c\u6210\u7684\uff0c",(0,t.jsxs)(n.strong,{children:["\u6bd4\u8f83\u5173\u952e\u7684\u662f\u5176\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"Model.type"})," \u548c ",(0,t.jsx)(n.code,{children:"View.type"})," \u6765\u627e\u5230\u540c\u4e00\u4e2a\u7ec4\u4ef6\uff08\u56fe\u8868/\u7cfb\u5217\uff09\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u548c\u89c6\u56fe\u7c7b"]}),"\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/model/Global.ts#L413"',children:"const isSeriesType = mainType === 'series';\nconst ComponentModelClass = (ComponentModel as ComponentModelConstructor).getClass(\n    mainType, resultItem.keyInfo.subType,\n    !isSeriesType // Give a more detailed warn later if series don't exists\n);\n// ...\ncomponentModel = new ComponentModelClass(\n    newCmptOption, this, this, extraOpt\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u4ee5\u4e0a\u6e90\u4ee3\u7801\u7684\u5b9e\u73b0\u4e2d\uff0c\u4f1a\u6839\u636e\u4f20\u9012\u7684\u914d\u7f6e\u9879\u89e3\u6790\u5f97\u5230\u7ec4\u4ef6\uff08\u516c\u5171\u7ec4\u4ef6/\u56fe\u8868\u7cfb\u5217\u7ec4\u4ef6\uff09\u7684 ",(0,t.jsx)(n.code,{children:"type"}),"\uff0c\u518d\u83b7\u53d6\u5230 Model \u7c7b\u7136\u540e\u5b9e\u4f8b\u5316\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/core/echarts.ts#L1450"',children:"prepareView = function (ecIns: ECharts, isComponent: boolean): void {\n  // ...\n\n  isComponent\n    ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      })\n    : ecModel.eachSeries(doPrepare);\n\n  function doPrepare(model: ComponentModel): void {\n    // ...\n    const viewId = '_ec_' + model.id + '_' + model.type;\n    let view = !requireNewView && viewMap[viewId];\n    if (!view) {\n      const classType = parseClassType(model.type);\n      const Clazz = isComponent\n        ? (ComponentView as ComponentViewConstructor).getClass(\n            classType.main,\n            classType.sub\n          )\n        : // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          (ChartView as ChartViewConstructor).getClass(classType.sub);\n\n      view = new Clazz();\n      // ...\n    }\n\n    // ...\n  }\n\n  // ...\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u4e0a\u9762 ",(0,t.jsx)(n.code,{children:"prepareView()"})," \u7684\u51fd\u6570\u5b9e\u73b0\u4e2d\u53ef\u4ee5\u770b\u5230\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"parseClassType()"})," \u51fd\u6570\u548c ",(0,t.jsx)(n.code,{children:"model.type"})," \u89e3\u6790\u5f97\u5230\u7c7b\u7684\u7c7b\u578b\u540e\uff0c\u518d\u83b7\u53d6\u5230 View \u7c7b\u7136\u540e\u5b9e\u4f8b\u5316\u7684\u8fc7\u7a0b\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u4e0a\u5c31\u662f\u63d2\u4ef6\u7a0b\u5e8f\u7684\u6267\u884c\u6d41\u7a0b\u7684\u6280\u672f\u7ec6\u8282\uff0c\u5728\u63d2\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u603b\u7ed3\u8d77\u6765\u9700\u8981\u6ce8\u610f\u4e24\u70b9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u63d2\u4ef6\u9700\u8981\u5728 echarts \u5b9e\u4f8b\u5316\u4e4b\u524d\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"use()"})," \u6ce8\u518c"]}),"\n",(0,t.jsxs)(n.li,{children:["Model \u548c View \u7c7b\u9700\u8981\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"type"})," \u5173\u8054\u8d77\u6765"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\u6269\u5c55-apis",children:"\u6269\u5c55 APIs"}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u4e0a\u5185\u5bb9\u5173\u6ce8\u7684\u90fd\u662f\u6570\u636e\u5c42\uff08Model\uff09\u548c\u89c6\u56fe\u5c42\uff08View\uff09\uff0c\u5b9e\u9645\u4e0a\u63d2\u4ef6\u673a\u5236\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7ec6\u7c92\u5ea6\u7684\u6269\u5c55 APIs\uff0c\u4e0b\u9762\u6765\u4e86\u89e3\u4e00\u4e0b\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/extension.ts#L96"',children:"export function use(\n  ext:\n    | EChartsExtensionInstaller\n    | EChartsExtension\n    | (EChartsExtensionInstaller | EChartsExtension)[]\n) {\n  if (isArray(ext)) {\n    // use([ChartLine, ChartBar]);\n    each(ext, (singleExt) => {\n      use(singleExt);\n    });\n    return;\n  }\n\n  if (indexOf(extensions, ext) >= 0) {\n    return;\n  }\n\n  extensions.push(ext);\n\n  if (isFunction(ext)) {\n    ext = {\n      install: ext,\n    };\n  }\n\n  ext.install(extensionRegisters);\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5176\u4e2d\uff0c",(0,t.jsx)(n.code,{children:"use()"})," API \u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u5305\u542b ",(0,t.jsx)(n.code,{children:"install()"})," \u51fd\u6570\u7684\u5bf9\u8c61\uff0cECharts \u4f1a\u76f4\u63a5\u8c03\u7528 ",(0,t.jsx)(n.code,{children:"install()"})," \u51fd\u6570\u5e76\u5c06\u4e00\u7cfb\u5217\u6269\u5c55 APIs \u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u3002\u5177\u4f53\uff0c\u53ef\u770b\u4ee5\u4e0b\u6e90\u7801\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/extension.ts#L47"',children:"const extensionRegisters = {\n  registerPreprocessor,\n  registerProcessor,\n  registerPostInit,\n  registerPostUpdate,\n  registerUpdateLifecycle,\n  registerAction,\n  registerCoordinateSystem,\n  registerLayout,\n  registerVisual,\n  registerTransform,\n  registerLoading,\n  registerMap,\n  registerImpl,\n\n  PRIORITY,\n\n  ComponentModel,\n  ComponentView,\n  SeriesModel,\n  ChartView,\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\n  registerComponentModel(ComponentModelClass: Constructor) {\n    ComponentModel.registerClass(ComponentModelClass);\n  },\n  registerComponentView(ComponentViewClass: typeof ComponentView) {\n    ComponentView.registerClass(ComponentViewClass);\n  },\n  registerSeriesModel(SeriesModelClass: Constructor) {\n    SeriesModel.registerClass(SeriesModelClass);\n  },\n  registerChartView(ChartViewClass: typeof ChartView) {\n    ChartView.registerClass(ChartViewClass);\n  },\n  registerSubTypeDefaulter(componentType: string, defaulter: SubTypeDefaulter) {\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\n  },\n  registerPainter(\n    painterType: string,\n    PainterCtor: Parameters<typeof registerPainter>[1]\n  ) {\n    registerPainter(painterType, PainterCtor);\n  },\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u4e0a\u6240\u6709\u7684\u6269\u5c55 APIs \u4e2d\u6700\u5e38\u7528\u7684\u662f\u4ee5\u4e0b\u51e0\u4e2a\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerPreprocessor()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u6bcf\u6b21\u8c03\u7528 ",(0,t.jsx)(n.code,{children:"setOption()"})," \u65f6\u5bf9\u914d\u7f6e\u9879\u505a\u4e00\u4e9b\u9884\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerPostInit()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u8c03\u7528 ",(0,t.jsx)(n.code,{children:"init()"})," \u540e\u505a\u4e00\u4e9b\u903b\u8f91\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerPostUpdate()"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u6bcf\u6b21\u8c03\u7528 ",(0,t.jsx)(n.code,{children:"setOption()"})," \u65f6\uff0c\u66f4\u65b0\u5b8c\u6210\u540e\u505a\u4e00\u4e9b\u903b\u8f91\u5904\u7406\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerComponentModel()"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u7ec4\u4ef6\u6570\u636e\u6a21\u578b\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerComponentView()"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u7ec4\u4ef6\u89c6\u56fe\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerSeriesModel()"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u56fe\u8868\u6570\u636e\u6a21\u578b\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"registerChartView()"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u56fe\u8868\u89c6\u56fe\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["\u5173\u4e8e\u6269\u5c55 APIs\uff0c\u8fd8\u53ef\u4ee5\u67e5\u770b ",(0,t.jsx)(n.a,{href:"/echarts-api-docs/docs/echarts-reference/api/echarts#%E6%89%A9%E5%B1%95",children:"ECharts APIs \u53c2\u8003"}),"\u3002"]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["\u8981\u4e86\u89e3\u6269\u5c55 APIs \u4e2d\u7684\u4e00\u4e9b\u751f\u547d\u5468\u671f Hook \u7684\u6267\u884c\u987a\u5e8f\uff0c\u53ef\u4ee5\u67e5\u770b ",(0,t.jsx)(n.a,{href:"/echarts-api-docs/docs/guide/PROGRAM_FLOW#echarts",children:"ECharts \u7684\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b"}),"\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"\u63d2\u4ef6\u6848\u4f8b\u5206\u6790",children:"\u63d2\u4ef6\u6848\u4f8b\u5206\u6790"}),"\n",(0,t.jsx)(n.p,{children:"\u524d\u9762\u63d0\u5230 ECharts \u9ed8\u8ba4\u652f\u6301\u7684\u6570\u5341\u79cd\u7c7b\u578b\u56fe\u8868\u7684\u5b9e\u73b0\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u4e2a\u201c\u63d2\u4ef6\u201d\uff0c\u73b0\u5728\u5c31\u4ee5\u8fd9\u4e9b\u201c\u5b98\u65b9\u63d2\u4ef6\u201d\u4e3a\u4f8b\u6765\u770b\u770b\u56fe\u8868\u63d2\u4ef6\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"echarts-project",src:s(8270).A+"",width:"358",height:"1274"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0a\u56fe\u4e2d\uff0c\u5206\u522b\u662f\u67f1\u72b6\u56fe\u3001\u6563\u70b9\u56fe\u3001\u997c\u56fe\u7684\u5b9e\u73b0\uff0c\u5176\u4e2d\u53ef\u4ee5\u770b\u5230\u90fd\u6709 ",(0,t.jsx)(n.code,{children:"install.ts"})," \u6587\u4ef6\uff0c\u4f5c\u4e3a\u63d2\u4ef6\u6ce8\u518c\u7684\u5165\u53e3\uff0c\u4ee5\u67f1\u72b6\u56fe\u4e3a\u4f8b\u770b\u770b\u6e90\u7801\u7684\u5177\u4f53\u5b9e\u73b0\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/chart/bar/install.ts#L29"',children:"export function install(registers: EChartsExtensionInstallRegisters) {\n  registers.registerChartView(BarView);\n  registers.registerSeriesModel(BarSeries);\n\n  registers.registerLayout(\n    registers.PRIORITY.VISUAL.LAYOUT,\n    zrUtil.curry(layout, 'bar')\n  );\n  // Do layout after other overall layout, which can prepare some information.\n  registers.registerLayout(\n    registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,\n    createProgressiveLayout('bar')\n  );\n\n  // Down sample after filter\n  registers.registerProcessor(\n    registers.PRIORITY.PROCESSOR.STATISTIC,\n    dataSample('bar')\n  );\n\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n  registers.registerAction(\n    {\n      type: 'changeAxisOrder',\n      event: 'changeAxisOrder',\n      update: 'update',\n    },\n    function (payload, ecModel) {\n      const componentType = payload.componentType || 'series';\n\n      ecModel.eachComponent(\n        { mainType: componentType, query: payload },\n        function (componentModel) {\n          if (payload.sortInfo) {\n            (componentModel as CartesianAxisModel).axis.setCategorySortInfo(\n              payload.sortInfo\n            );\n          }\n        }\n      );\n    }\n  );\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4ee5\u4e0a\u6e90\u7801\u4e2d\uff0c\u5206\u522b\u6ce8\u518c\u4e86\u67f1\u72b6\u56fe\u7684 Model\u3001View \u5b9e\u73b0\uff0c\u8fd8\u6709\u4e24\u4e2a\u5e03\u5c40\u5b9e\u73b0\uff0c\u4ee5\u53ca\u6570\u636e\u7684\u8fc7\u6ee4\u5904\u7406\u548c ",(0,t.jsx)(n.code,{children:"changeAxisOrder"})," Action\u3002\u90a3\u4e48\uff0cECharts \u662f\u5982\u4f55\u4f7f\u7528\u67f1\u72b6\u56fe\u8fd9\u4e2a\u63d2\u4ef6\u7684\u5462\uff1f\u53ef\u4ee5\u770b\u4ee5\u4e0b\u6e90\u7801\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="https://github.com/apache/echarts/blob/5.3.3/src/echarts.all.ts#L122"',children:"use([\n  // ...\n  BarChart,\n  PieChart,\n  ScatterChart,\n  // ...\n]);\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u81f3\u6b64\uff0c\u901a\u8fc7\u67f1\u72b6\u56fe\u8fd9\u4e2a\u6848\u4f8b\u53ef\u4ee5\u6bd4\u8f83\u6e05\u695a\u7684\u4e86\u89e3 ECharts \u7684\u6269\u5c55\u673a\u5236\u8bbe\u8ba1\u548c\u56fe\u8868\u63d2\u4ef6\u7684\u5927\u81f4\u4ee3\u7801\u7ed3\u6784\u548c\u4f7f\u7528\u65b9\u5f0f\u3002"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"\u4e86\u89e3\u5982\u4f55\u5b9e\u9645\u8fdb\u884c\u63d2\u4ef6\u5f00\u53d1\uff0c\u8bf7\u67e5\u770b\u4ee5\u4e0b\u5f00\u53d1\u6848\u4f8b\uff1a"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5b98\u65b9\u8d44\u6e90\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://echarts.apache.org/zh/download-extension.html",children:"ECharts \u6269\u5c55\u4e0b\u8f7d\uff08\u53ef\u67e5\u770b\u6e90\u7801\u5b9e\u73b0\uff09"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u975e\u5b98\u65b9\u8d44\u6e90\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/echarts-api-docs/docs/guide/modules/plugin-config",children:"\u529f\u80fd\u6269\u5c55"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/echarts-api-docs/docs/guide/modules/plugin-chart",children:"\u56fe\u8868\u63d2\u4ef6"})}),"\n"]}),"\n"]}),"\n"]})]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8270:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/echarts-project-a13c3f682e78ba3b9c76d07f991d5bb1.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);